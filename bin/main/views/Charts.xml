<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">





	<chart stacked="true" onInit="action.sale.chart.set.date.1m"
		name="chart.my.turnover.per.month" title="My Turnover per month">
		<search-fields>
			<field name="fromDate" title="From Date" type="date"
				x-required="true" />
			<field name="toDate" title="To Date" type="date"
				x-required="true" />
		</search-fields>
		<dataset type="sql">
          SELECT
              COALESCE(SUM(self.ex_tax_total), 0.00) AS _amount,   
              TO_CHAR(self.confirmation_date,'yyyy-MM') AS _month
          FROM
              sale_sale_order AS self
          JOIN
              auth_user AS _user
              ON _user.id = :__user__
          WHERE
              self.confirmation_date BETWEEN DATE(:fromDate) AND DATE(:toDate)
              AND self.saleman_user = :__user__
              AND self.company = _user.active_company
          GROUP BY
              _month
          ORDER BY
              _month  
      </dataset>
		<category key="_month" type="month" title="Month" />
		<series key="_amount" type="bar" title="Amount" />
		<config name="xFormat" value="MM-YYYY" />
	</chart>

</object-views>